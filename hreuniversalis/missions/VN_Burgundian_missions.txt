#Burgundian Missions
#By Isildur

VN_bur_missions_slot_1_a = {
	slot = 1
	generic = no
	ai = yes
	potential = {
		tag = BUR
		NOT = { map_setup = map_setup_random }
	}
	has_country_shield = yes
    
	vn_bur_stabilize_duchy = {
		icon = secure_the_succession
		position = 1
		required_missions = { }
		trigger = {
			stability = 2
			estate_loyalty = { estate = estate_nobles loyalty = 60 }
			estate_loyalty = { estate = estate_church loyalty = 60 }
			estate_loyalty = { estate = estate_burghers loyalty = 60 }
			reform_level = 2
		}
		effect = {
			besancon_area = {
				limit = {
					NOT = { is_core = ROOT }
					NOT = { is_permanent_claim = ROOT }
				}
				add_permanent_claim = ROOT
			}
			dole_area = {
				limit = {
					NOT = { is_core = ROOT }
					NOT = { is_permanent_claim = ROOT }
				}
				add_permanent_claim = ROOT
			}
			add_country_modifier = {
				name = "bur_stabilize_duchy_mission"
				duration = 9125
			}
		}
    }
	vn_bur_two_burgundies = {
		icon = mission_rb_repatriate_burgundy
		position = 4
		required_missions = { vn_bur_stabilize_duchy }
		provinces_to_highlight = {
			OR = {
				area = besancon_area
				area = dole_area
			}
			NOT = { country_or_non_sovereign_subject_holds = ROOT }
		}
		trigger = {
			num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
				value = 10
				OR = {
					area = besancon_area
					area = dole_area
				}
			}
		}
		effect = {
			add_country_modifier = {
				name = "bur_two_burgundies_mission"
				duration = 7300
			}
			vaud_area = {
				limit = {
					NOT = { is_core = ROOT }
					NOT = { is_permanent_claim = ROOT }
				}
				add_permanent_claim = ROOT
			}
			basel_area = {
				limit = {
					NOT = { is_core = ROOT }
					NOT = { is_permanent_claim = ROOT }
				}
				add_permanent_claim = ROOT
			}
			forez_area = {
				limit = {
					NOT = { is_core = ROOT }
					NOT = { is_permanent_claim = ROOT }
				}
				add_permanent_claim = ROOT
			}
			dauphine_area = {
				limit = {
					NOT = { is_core = ROOT }
					NOT = { is_permanent_claim = ROOT }
				}
				add_permanent_claim = ROOT
			}
			barrois_area = {
				limit = {
					NOT = { is_core = ROOT }
					NOT = { is_permanent_claim = ROOT }
				}
				add_permanent_claim = ROOT
			}
		}
    }
	vn_bur_conquer_romandie = {
		icon = mission_landsknecht_soldier
		required_missions = { vn_bur_two_burgundies }
		provinces_to_highlight = {
			OR = {
				area = vaud_area
				area = basel_area
			}
			NOT = { country_or_non_sovereign_subject_holds = ROOT }
		}
		trigger = {
			vaud_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
			basel_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
		}
		effect = {
			vaud_area = {
				limit = { country_or_non_sovereign_subject_holds = ROOT }
				add_province_modifier = {
					name = "bur_conquer_romandie_mission"
					duration = 9125
				}
			}
			basel_area = {
				limit = { country_or_non_sovereign_subject_holds = ROOT }
				add_province_modifier = {
					name = "bur_conquer_romandie_mission"
					duration = 9125
				}
			}
			savoy_area = {
				limit = {
					NOT = { is_core = ROOT }
					NOT = { is_permanent_claim = ROOT }
				}
				add_permanent_claim = ROOT
			}
		}
    }
	vn_bur_seize_savoy = {
		icon = alpine_fortifications
		required_missions = { vn_bur_conquer_romandie }
		provinces_to_highlight = {
			area = savoy_area
			NOT = { country_or_non_sovereign_subject_holds = ROOT }
		}
		trigger = {
			savoy_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
		}
		effect = {
			add_accepted_culture_or_dip_power = { culture = arpitan dip_reward = yes }
			bern_area = {
				limit = {
					NOT = { is_core = ROOT }
					NOT = { is_permanent_claim = ROOT }
				}
				add_permanent_claim = ROOT
			}
			wallis_area = {
				limit = {
					NOT = { is_core = ROOT }
					NOT = { is_permanent_claim = ROOT }
				}
				add_permanent_claim = ROOT
			}
			stgallen_area = {
				limit = {
					NOT = { is_core = ROOT }
					NOT = { is_permanent_claim = ROOT }
				}
				add_permanent_claim = ROOT
			}
			chur_area = {
				limit = {
					NOT = { is_core = ROOT }
					NOT = { is_permanent_claim = ROOT }
				}
				add_permanent_claim = ROOT
			}
			thurgau_area = {
				limit = {
					NOT = { is_core = ROOT }
					NOT = { is_permanent_claim = ROOT }
				}
				add_permanent_claim = ROOT
			}
			waldstatte_area = {
				limit = {
					NOT = { is_core = ROOT }
					NOT = { is_permanent_claim = ROOT }
				}
				add_permanent_claim = ROOT
			}
		}
    }
	vn_bur_subjugate_swiss = {
		icon = consolidate_switzerland
		position = 7
		required_missions = { vn_bur_seize_savoy }
		provinces_to_highlight = {
			OR = {
				area = bern_area
				area = wallis_area
				area = stgallen_area
				area = chur_area
				area = thurgau_area
				area = waldstatte_area
			}
			NOT = { country_or_non_sovereign_subject_holds = ROOT }
		}
		trigger = {
			bern_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
			wallis_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
			stgallen_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
			chur_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
			thurgau_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
			waldstatte_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
		}
		effect = {
			add_country_modifier = {
				name = "bur_subjugate_swiss_mission"
				duration = -1
			}
			switzerland_superregion = {
				limit = { country_or_non_sovereign_subject_holds = ROOT }
				add_province_modifier = {
					name = "bur_subjugate_swiss_area_mission"
					duration = 9125
				}
			}
		}
	}
}

VN_bur_missions_slot_1_b = {
	slot = 1
	generic = no
	ai = yes
	potential = {
		tag = BUR
		NOT = { map_setup = map_setup_random }
	}
	has_country_shield = yes
	
	vn_bur_conquer_hainaut = {
		icon = mission_reign_of_women
		position = 8
		required_missions = { vn_bur_inheritance_of_flanders }
		provinces_to_highlight = {
			OR = {
				area = hainaut_area
				province_id = 1866
			}
			NOT = { country_or_non_sovereign_subject_holds = ROOT }
		}
		trigger = {
			num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
				value = 5
				area = hainaut_area
			}
			1866 = { country_or_non_sovereign_subject_holds = ROOT }
		}
		effect = {
			luxemburg_area = {
				limit = {
					NOT = { is_core = ROOT }
					NOT = { is_permanent_claim = ROOT }
				}
				add_permanent_claim = ROOT
			}
		}
    }
	vn_bur_conquer_luxemburg = {
		icon = the_true_freedom
		required_missions = { vn_bur_conquer_hainaut }
		position = 9
		provinces_to_highlight = {
			area = luxemburg_area
			NOT = { country_or_non_sovereign_subject_holds = ROOT }
		}
		trigger = {
			num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
				value = 5
				area = luxemburg_area
			}
		}
		effect = {
			add_country_modifier = {
				name = "bur_conquer_luxemburg_mission"
				duration = 9125
			}
			liege_area = {
				limit = {
					NOT = { is_core = ROOT }
					NOT = { is_permanent_claim = ROOT }
				}
				add_permanent_claim = ROOT
			}
			897 = { 
				if = {
					limit = {
						NOT = { is_core = ROOT }
						NOT = { is_permanent_claim = ROOT }
					}
					add_permanent_claim = ROOT
				}
			}
		}
    }
	vn_bur_triumph_over_liege = {
		icon = mission_spanish_netherlands
		required_missions = { vn_bur_conquer_luxemburg }
		provinces_to_highlight = {
			OR = {
				area = liege_area
				province_id = 897
			}
			NOT = { country_or_non_sovereign_subject_holds = ROOT }
		}
		trigger = {
			num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
				value = 5
				area = liege_area
			}
			897 = { country_or_non_sovereign_subject_holds = ROOT }
		}
		effect = {
			liege_area = {
				limit = { country_or_non_sovereign_subject_holds = ROOT }
				add_province_modifier = {
					name = "bur_annex_gelre_mission"
					duration = 7300
				}
			}
			897 = {
				add_province_modifier = {
					name = "bur_annex_gelre_mission"
					duration = 7300
				}
			}
		}
	}
}

VN_bur_missions_slot_2_a = {
	slot = 2
	generic = no
	ai = yes
	potential = {
		tag = BUR
		NOT = { map_setup = map_setup_random }
	}
	has_country_shield = yes
    
	vn_bur_conquer_champagne = {
		icon = mission_soldiers_in_line
		position = 4
		required_missions = { vn_bur_acquire_influence }
		provinces_to_highlight = {
			OR = {
				area = reims_area
				area = troyes_area
				area = valois_area
				area = rethel_area
				province_id = 4034
				province_id = 4048
			}
			NOT = { country_or_non_sovereign_subject_holds = ROOT }
		}
		trigger = {
			reims_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
			troyes_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
			valois_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
			rethel_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
			4034 = { country_or_non_sovereign_subject_holds = ROOT }
			4048 = { country_or_non_sovereign_subject_holds = ROOT }
		}
		effect = {
			add_mercantilism = 3
			define_advisor = {
				type = trader
				skill = 3
				discount = yes
			}
			champagne_region = {
				limit = { country_or_non_sovereign_subject_holds = ROOT }
				add_province_modifier = {
					name = "bur_conquer_champagne_mission"
					duration = 18250
				}
			}
		}
	}
}

VN_bur_missions_slot_2_b = {
	slot = 2
	generic = no
	ai = yes
	potential = {
		tag = BUR
		NOT = { map_setup = map_setup_random }
	}
	has_country_shield = yes
    
	vn_bur_into_dauphine = {
		icon = mission_the_caucasus_rus
		position = 5
		required_missions = { vn_bur_two_burgundies }
		provinces_to_highlight = {
			OR = {
				area = forez_area
				area = dauphine_area
			}
			NOT = { country_or_non_sovereign_subject_holds = ROOT }
		}
		trigger = {
			NOT = { exists = DAU }
			forez_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
			dauphine_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
		}
		effect = {
			add_accepted_culture_or_dip_power = { culture = vivaro_alpine dip_reward = yes }
			provence_region = {
				limit = {
					NOT = { is_core = ROOT }
					NOT = { is_permanent_claim = ROOT }
				}
				add_permanent_claim = ROOT
			}
		}
    }
	vn_bur_conquer_provence = {
		icon = mission_humiliate_provence
		required_missions = { vn_bur_into_dauphine }
		provinces_to_highlight = {
			region = provence_region
			NOT = { country_or_non_sovereign_subject_holds = ROOT }
		}
		trigger = {
			NOT = { exists = PRO }
			provence_region = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
		}
		effect = {
			provence_region = {
				limit = { country_or_non_sovereign_subject_holds = ROOT }
				add_province_modifier = {
					name = "bur_conquer_provence_mission"
					duration = 9125
				}
			}
		}
	}
	vn_bur_restore_arles = {
		icon = develop_the_po_valley
		required_missions = { 
			vn_bur_seize_savoy
			vn_bur_conquer_provence
		}
		provinces_to_highlight = {
			province_id = 989
		}
		trigger = {
			989 = {
				development = 25
				NOT = { num_free_building_slots = 1 }
				has_fort_building_trigger = yes
			}
		}
		effect = {
			989 = {
				add_base_tax = 1
				add_base_production = 1
				add_base_manpower = 1
			}
			country_event = {
				id = vn_missions.52
			}
		}
	}
}

VN_bur_missions_slot_2_c = {
	slot = 2
	generic = no
	ai = yes
	potential = {
		tag = BUR
		NOT = { map_setup = map_setup_random }
	}
	has_country_shield = yes
    
	vn_bur_bring_holland_to_heel = {
		icon = mission_the_austrian_succession
		required_missions = { vn_bur_conquer_brabant }
		position = 9
		provinces_to_highlight = {
			OR = {
				area = holland_area
				province_id = 418
				province_id = 330
			}
			NOT = { country_or_non_sovereign_subject_holds = ROOT }
		}
		trigger = {
			holland_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
			418 = { country_or_non_sovereign_subject_holds = ROOT }
			330 = { country_or_non_sovereign_subject_holds = ROOT }
		}
		effect = {
			holland_area = {
				limit = { country_or_non_sovereign_subject_holds = ROOT }
				add_province_modifier = {
					name = "bur_annex_gelre_mission"
					duration = 7300
				}
			}
			418 = {
				add_province_modifier = {
					name = "bur_annex_gelre_mission"
					duration = 7300
				}
			}
			330 = {
				add_province_modifier = {
					name = "bur_annex_gelre_mission"
					duration = 7300
				}
			}
			westfrisia_area = {
				limit = {
					NOT = { is_core = ROOT }
					NOT = { is_permanent_claim = ROOT }
				}
				add_permanent_claim = ROOT
			}
		}
    }
	vn_bur_beyond_zuiderzee = {
		icon = mission_invade_island
		required_missions = { vn_bur_bring_holland_to_heel }
		provinces_to_highlight = {
			area = westfrisia_area
			NOT = { country_or_non_sovereign_subject_holds = ROOT }
		}
		trigger = {
			westfrisia_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
		}
		effect = {
			westfrisia_area = {
				limit = { country_or_non_sovereign_subject_holds = ROOT }
				add_province_modifier = {
					name = "bur_annex_gelre_mission"
					duration = 7300
				}
			}
		}
    }
	vn_bur_burgundian_netherlands = {
		icon = mission_hanseatic_cities
		required_missions = {
			vn_bur_triumph_over_liege
			vn_bur_beyond_zuiderzee
			vn_bur_annex_gelre
		}
		provinces_to_highlight = {
			superregion = lowlands_superregion
			NOT = { country_or_non_sovereign_subject_holds = ROOT }
		}
		trigger = {
			lowlands_superregion = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
		}
		effect = {
			896 = {
				add_base_tax = 1
				add_base_production = 1
				add_province_modifier = {
					name = "bur_burgundian_netherlands_mission"
					duration = 9125
				}
			}
			90 = {
				add_base_tax = 1
				add_base_production = 1
				add_province_modifier = {
					name = "bur_burgundian_netherlands_mission"
					duration = 9125
				}
			}
			930 = {
				add_base_tax = 1
				add_base_production = 1
				add_province_modifier = {
					name = "bur_burgundian_netherlands_mission"
					duration = 9125
				}
			}
			2729 = {
				add_base_tax = 1
				add_base_production = 1
				add_province_modifier = {
					name = "bur_burgundian_netherlands_mission"
					duration = 9125
				}
			}
			2514 = {
				add_base_tax = 1
				add_base_production = 1
				add_province_modifier = {
					name = "bur_burgundian_netherlands_mission"
					duration = 9125
				}
			}
			328 = {
				add_base_tax = 1
				add_base_production = 1
				add_province_modifier = {
					name = "bur_burgundian_netherlands_mission"
					duration = 9125
				}
			}
			1846 = {
				add_base_tax = 1
				add_base_production = 1
				add_province_modifier = {
					name = "bur_burgundian_netherlands_mission"
					duration = 9125
				}
			}
		}
	}
}


VN_bur_missions_slot_3_a = {
	slot = 3
	generic = no
	ai = yes
	potential = {
		tag = BUR
		NOT = { map_setup = map_setup_random }
	}
	has_country_shield = yes
    
	vn_bur_bolster_army = {
		icon = mission_large_army
		position = 1
		required_missions = { }
		trigger = {
			num_of_generals = 1
			army_size = 6
			army_size_percentage = 0.75
		}
		effect = {
			add_army_tradition = 15
			if = {
				limit = {
					NOT = {
						army_tradition = 50
					}
				}
				create_general = { tradition = 50 }
			}
			else_if = {
				limit = {
					NOT = {
						army_tradition = 75
					}
				}
				create_general = { tradition = 75 }
			}
			else = {
				create_general = { tradition = 100 }
			}
		}
    }
	vn_bur_diplomatic_effort = {
		icon = mission_diplomatic_relation
		required_missions = { 
			vn_bur_bolster_army
			vn_bur_stabilize_duchy
		}
		provinces_to_highlight = {
			is_capital = yes
			owner = {
				alliance_with = ROOT
				NOT = {
					marriage_with = FROM
				}
				NOT = {
					has_opinion = {
						who = ROOT
						value = 150
					}
				}
			}
		}
		trigger = {
			num_of_allies = 3
			calc_true_if = {
				all_ally = {
					marriage_with = FROM
					has_opinion = {
						who = ROOT
						value = 150
					}
				}
				amount = 3
				desc = vn_bur_diplomatic_effort.tt
			}
		}
		effect = {
			add_country_modifier = {
				name = "bur_diplomatic_effort_mission"
				duration = 9125
			}
		}
    }
	vn_bur_acquire_influence = {
		icon = fra_appease_the_princes
		position = 3
		required_missions = { vn_bur_diplomatic_effort }
		provinces_to_highlight = {
			is_capital = yes
			owner = {
				is_neighbor_of = ROOT
				NOT = {
					has_spy_network_from = { 
						who = ROOT 
						value = 75 
					}
				}
			}
		}
		trigger = {
			calc_true_if = {
				all_neighbor_country = {
					has_spy_network_from = { 
						who = ROOT 
						value = 75 
					}
				}
				amount = 3
				desc = vn_bur_acquire_influence.tt
			}
		}
		effect = {
			if = {
				limit = {
					has_dlc = "Emperor"
					NOT = { tag = FRA }
					FRA = { has_subject_of_type = appanage }
				}
				FRA = {
					country_event = { id = new_flavour_bur.6 }
					every_subject_country = {
						limit = { is_subject_of_type = appanage }
						add_liberty_desire = 50
					}
				}
			}
			add_power_projection = {
				type = mission_rewards_power_projection
				amount = 15
			}
			reims_area = {
				limit = {
					NOT = { is_core = ROOT }
					NOT = { is_permanent_claim = ROOT }
				}
				add_permanent_claim = ROOT
			}
			troyes_area = {
				limit = {
					NOT = { is_core = ROOT }
					NOT = { is_permanent_claim = ROOT }
				}
				add_permanent_claim = ROOT
			}
			valois_area = {
				limit = {
					NOT = { is_core = ROOT }
					NOT = { is_permanent_claim = ROOT }
				}
				add_permanent_claim = ROOT
			}
			rethel_area = {
				limit = {
					NOT = { is_core = ROOT }
					NOT = { is_permanent_claim = ROOT }
				}
				add_permanent_claim = ROOT
			}
			nevers_area = {
				limit = {
					NOT = { is_core = ROOT }
					NOT = { is_permanent_claim = ROOT }
				}
				add_permanent_claim = ROOT
			}
			4034 = {
				if = {
					limit = {
						NOT = { is_core = ROOT }
						NOT = { is_permanent_claim = ROOT }
					}
					add_permanent_claim = ROOT
				}
			}
			4048 = {
				if = {
					limit = {
						NOT = { is_core = ROOT }
						NOT = { is_permanent_claim = ROOT }
					}
					add_permanent_claim = ROOT
				}
			}
			add_country_modifier = {
				name = "bur_acquire_influence_mission"
				duration = 9125
			}
		}
    }
	vn_bur_subjugate_nevers = {
		icon = mission_unite_home_region	#placeholder
		required_missions = { vn_bur_acquire_influence }
		provinces_to_highlight = {
			area = nevers_area
			NOT = { country_or_non_sovereign_subject_holds = ROOT }
		}
		trigger = {
			nevers_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
		}
		effect = {
			bourbon_area = {
				limit = {
					NOT = { is_permanent_claim = ROOT }
					NOT = { is_core = ROOT	}
				}
				add_claim = ROOT
			}
			auvergne_area = {
				limit = {
					NOT = { is_permanent_claim = ROOT }
					NOT = { is_core = ROOT	}
				}
				add_claim = ROOT
			}
			add_country_modifier = {
				name = "bur_subjugate_nevers_mission"
				duration = 5475
			}
		}
	}
}

VN_bur_missions_slot_3_b = {
	slot = 3
	generic = no
	ai = yes
	potential = {
		tag = BUR
		NOT = { map_setup = map_setup_random }
	}
	has_country_shield = yes
    
	vn_bur_duchy_of_bar = {
		icon = mission_hundred_years_war
		position = 5
		required_missions = { vn_bur_two_burgundies }
		provinces_to_highlight = {
			area = barrois_area
			NOT = { country_or_non_sovereign_subject_holds = ROOT }
		}
		trigger = {
			barrois_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
		}
		effect = {
			add_prestige_or_monarch_power = { amount = 5 } 
			toul_area = {
				limit = {
					NOT = { is_core = ROOT }
					NOT = { is_permanent_claim = ROOT }
				}
				add_permanent_claim = ROOT
			}
			metz_area = {
				limit = {
					NOT = { is_core = ROOT }
					NOT = { is_permanent_claim = ROOT }
				}
				add_permanent_claim = ROOT
			}
			saar_area = {
				limit = {
					NOT = { is_core = ROOT }
					NOT = { is_permanent_claim = ROOT }
				}
				add_permanent_claim = ROOT
			}
		}
    }
	vn_bur_conquer_lorraine = {
		icon = integrate_lorraine
		required_missions = { vn_bur_duchy_of_bar }
		provinces_to_highlight = {
			OR = {
				area = toul_area
				area = metz_area
				area = saar_area
			}
			NOT = { country_or_non_sovereign_subject_holds = ROOT }
		}
		trigger = {
			num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
				value = 15
				OR = {
					area = toul_area
					area = metz_area
					area = saar_area
				}
			}
		}
		effect = {
			add_army_tradition = 10
			add_mil_power = 25
			add_accepted_culture_or_dip_power = { culture = lorrainian dip_reward = yes }
			strassburg_area = {
				limit = {
					NOT = { is_core = ROOT }
					NOT = { is_permanent_claim = ROOT }
				}
				add_permanent_claim = ROOT
			}
			nordgau_area = {
				limit = {
					NOT = { is_core = ROOT }
					NOT = { is_permanent_claim = ROOT }
				}
				add_permanent_claim = ROOT
			}
			hagenau_area = {
				limit = {
					NOT = { is_core = ROOT }
					NOT = { is_permanent_claim = ROOT }
				}
				add_permanent_claim = ROOT
			}
			sundgau_area = {
				limit = {
					NOT = { is_core = ROOT }
					NOT = { is_permanent_claim = ROOT }
				}
				add_permanent_claim = ROOT
			}
		}
    }
	vn_bur_conquer_alsace = {
		icon = mission_lion_of_the_empire
		required_missions = { vn_bur_conquer_lorraine }
		provinces_to_highlight = {
			OR = {
				area = strassburg_area
				area = nordgau_area
				area = hagenau_area
				area = sundgau_area
			}
			NOT = { country_or_non_sovereign_subject_holds = ROOT }
		}
		trigger = {
			num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
				value = 20
				OR = {
					area = strassburg_area
					area = nordgau_area
					area = hagenau_area
					area = sundgau_area
				}
			}
		}
		effect = {
			add_mil_power = 50
			strassburg_area = {
				limit = { country_or_non_sovereign_subject_holds = ROOT }
				add_province_modifier = {
					name = "bur_conquer_alsace_mission"
					duration = -1
				}
			}
			nordgau_area = {
				limit = { country_or_non_sovereign_subject_holds = ROOT }
				add_province_modifier = {
					name = "bur_conquer_alsace_mission"
					duration = -1
				}
			}
			hagenau_area = {
				limit = { country_or_non_sovereign_subject_holds = ROOT }
				add_province_modifier = {
					name = "bur_conquer_alsace_mission"
					duration = -1
				}
			}
			sundgau_area = {
				limit = { country_or_non_sovereign_subject_holds = ROOT }
				add_province_modifier = {
					name = "bur_conquer_alsace_mission"
					duration = -1
				}
			}
		}
	}
}

VN_bur_missions_slot_3_c = {
	slot = 3
	generic = no
	ai = yes
	potential = {
		tag = BUR
		NOT = { map_setup = map_setup_random }
	}
	has_country_shield = yes
    
	vn_bur_conquer_brabant = {
		icon = mission_unite_home_region	#placeholder
		position = 8
		required_missions = { vn_bur_inheritance_of_flanders }
		provinces_to_highlight = {
			OR = {
				area = brabant_area
				area = antwerp_area
			}
			NOT = { country_or_non_sovereign_subject_holds = ROOT }
		}
		trigger = {
			num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
				value = 10
				OR = {
					area = brabant_area
					area = antwerp_area
				}
			}
		}
		effect = {
			brabant_area = {
				limit = { country_or_non_sovereign_subject_holds = ROOT }
				add_province_modifier = {
					name = "bur_annex_gelre_mission"
					duration = 7300
				}
			}
			antwerp_area = {
				limit = { country_or_non_sovereign_subject_holds = ROOT }
				add_province_modifier = {
					name = "bur_annex_gelre_mission"
					duration = 7300
				}
			}
			holland_area = {
				limit = {
					NOT = { is_core = ROOT }
					NOT = { is_permanent_claim = ROOT }
				}
				add_permanent_claim = ROOT
			}
			utrecht_area = {
				limit = {
					NOT = { is_core = ROOT }
					NOT = { is_permanent_claim = ROOT }
				}
				add_permanent_claim = ROOT
			}
			overijssel_area = {
				limit = {
					NOT = { is_core = ROOT }
					NOT = { is_permanent_claim = ROOT }
				}
				add_permanent_claim = ROOT
			}
			if = {
				limit = {
					valid_for_personal_unions_trigger = yes
					exists = HOL
					HOL = { valid_for_personal_unions_trigger = yes }
				}
				add_casus_belli = {
					type = cb_fabricated_claims
					target = HOL
					months = 300
				}
			}
		}
    }
	vn_bur_conquer_utrecht = {
		icon = mission_religious
		required_missions = { vn_bur_conquer_brabant }
		provinces_to_highlight = {
			OR = {
				area = utrecht_area
				area = overijssel_area
			}
			NOT = { country_or_non_sovereign_subject_holds = ROOT }
		}
		trigger = {
			num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
				value = 10
				OR = {
					area = utrecht_area
					area = overijssel_area
				}
			}
		}
		effect = {
			utrecht_area = {
				limit = { country_or_non_sovereign_subject_holds = ROOT }
				add_province_modifier = {
					name = "bur_annex_gelre_mission"
					duration = 7300
				}
			}
			overijssel_area = {
				limit = { country_or_non_sovereign_subject_holds = ROOT }
				add_province_modifier = {
					name = "bur_annex_gelre_mission"
					duration = 7300
				}
			}
			guelders_area = {
				limit = {
					NOT = { is_core = ROOT }
					NOT = { is_permanent_claim = ROOT }
				}
				add_permanent_claim = ROOT
			}
		}
    }
	vn_bur_annex_gelre = {
		icon = mission_assemble_an_army
		required_missions = { vn_bur_conquer_utrecht }
		provinces_to_highlight = {
			area = guelders_area
			NOT = { country_or_non_sovereign_subject_holds = ROOT }
		}
		trigger = {
			num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
				value = 6
				area = guelders_area
			}
		}
		effect = {
			add_prestige_or_monarch_power = { amount = 10 } 
			guelders_area = {
				limit = { country_or_non_sovereign_subject_holds = ROOT }
				add_province_modifier = {
					name = "bur_annex_gelre_mission"
					duration = 7300
				}
			}
		}
	}
}

VN_bur_missions_slot_3_d = {
	slot = 3
	generic = no
	ai = yes
	potential = {
		tag = BUR
		NOT = { map_setup = map_setup_random }
	}
	has_country_shield = yes

	vn_bur_consolidate_netherlands = {
		icon = unite_the_realm
		position = 12
		required_missions = {
			vn_bur_burgundian_netherlands
			vn_bur_hook_and_cod_wars
		}
		provinces_to_highlight = {
			superregion = lowlands_superregion
			OR = {
				NOT = { owned_by = ROOT }
				NOT = { is_core = ROOT }
			}
		}
		trigger = {
			lowlands_superregion = {
				type = all
				owned_by = ROOT
				is_core = ROOT
			}
			num_of_owned_provinces_with = {
				value = 10
				superregion = lowlands_superregion
				has_fort_building_trigger = yes
			}
		}
		effect = {
			lowlands_superregion = {
				limit = { owned_by = ROOT }
				add_province_modifier = {
					name = "bur_consolidate_netherlands_mission"
					duration = 5475
				}
			}
		}
    }
	vn_bur_third_kingdom_of_burgundy = {
		icon = the_crown_of_lothair
		required_missions = { vn_bur_consolidate_netherlands }
		trigger = {
			government_rank = 5
			prestige = 50
		}
		effect = {
			country_event = {
				id = vn_missions.53
			}
		}
	}
}

VN_bur_missions_slot_4_a = {
	slot = 4
	generic = no
	ai = yes
	potential = {
		tag = BUR
		NOT = { map_setup = map_setup_random }
	}
	has_country_shield = yes
	
	vn_bur_monasteries_of_burgundy = {
		icon = fund_the_monasteries
		position = 2
		required_missions = { vn_bur_assert_independence }
		trigger = {
			OR = {
				temple = 5
				cathedral = 3
			}
		}
		effect = {
			add_religious_influence_effect_small = yes
			add_country_modifier = {
				name = "bur_monasteries_of_burgundy_mission"
				duration = 9125
			}
		}
	}
	vn_bur_order_of_golden_fleece = {
		icon = chivalry_is_not_dead
		required_missions = { vn_bur_monasteries_of_burgundy }
		trigger = {
			OR = {
				theologian = 2
				inquisitor = 2
			}
			if = {
				limit = { has_estate = estate_church }
				estate_loyalty = {
					estate = estate_church
					loyalty = 60
				}
			}
			if = {
				limit = {
					OR = {
						religion = catholic
						religion = catholique
					}
					papal_influence = 100
				}
			}
		}
		effect = {
			add_prestige_or_monarch_power = { amount = 10 } 
			add_country_modifier = {
				name = "bur_order_of_golden_fleece_mission"
				duration = 5475
			}
		}
	}
}

VN_bur_missions_slot_4_b = {
	slot = 4
	generic = no
	ai = yes
	potential = {
		tag = BUR
		NOT = { map_setup = map_setup_random }
	}
	has_country_shield = yes

	vn_bur_northward_expansion = {
		icon = mission_alliances
		position = 4
		required_missions = { vn_bur_acquire_influence }
		trigger = {
			calc_true_if = {
				all_country = {
					custom_trigger_tooltip = {
						tooltip = vn_bur_northward_expansion.tt
						capital_scope = { superregion = lowlands_superregion }
					}
					has_opinion = {
						who = ROOT
						value = 100
					}
				}
				amount = 3
			}
		}
		effect = {
			add_dip_power = 50
			if = {
				limit = { exists = FLA }
				FLA = {
					every_owned_province = {
						limit = {
							NOT = { is_permanent_claim = ROOT }
							NOT = { is_core = ROOT }
						}
						add_permanent_claim = ROOT
					}
				}
			}
			else = {
				flanders_area = {
					limit = {
						NOT = { is_permanent_claim = ROOT }
						NOT = { is_core = ROOT }
					}
					add_permanent_claim = ROOT
				}
			}
		}
    }
	vn_bur_inheritance_of_flanders = {
		icon = fra_burg_succession
		position = 7
		required_missions = { vn_bur_northward_expansion }
		provinces_to_highlight = {
			area = flanders_area
			NOT = { country_or_non_sovereign_subject_holds = ROOT }
		}
		trigger = {
			if = {
				limit = { exists = FLA }
				marriage_with = FLA
				FLA = {
					OR = {
						is_subject_of_type = appanage
						is_subject = no
					}
				}
				reverse_has_opinion = {
					who = FLA
					value = 150
				}
			}
			else = {
				flanders_area = {
					type = all
					country_or_non_sovereign_subject_holds = ROOT
				}
			}
		}
		effect = {
			if = {
				limit = { 
					valid_for_personal_unions_trigger = yes
                    exists = FLA
                    FLA = { valid_for_personal_unions_trigger = yes }
				}
				add_casus_belli = {
					target = FLA
					type = cb_fabricated_claims
					months = 300
				}
			}
			else = {
				flanders_area = {
					limit = { owned_by = ROOT }
					add_core = ROOT
				}
			}
			if = {
				limit = {
					valid_for_personal_unions_trigger = yes
					exists = BRB
					BRB = { valid_for_personal_unions_trigger = yes }
				}
				add_casus_belli = {
					type = cb_fabricated_claims
					target = BRB
					months = 300
				}
			}
		}
    }
	vn_bur_shipyard_of_bruges = {
		icon = control_coromandel
		required_missions = { vn_bur_inheritance_of_flanders }
		provinces_to_highlight = {
			province_id = 896
		}
		trigger = {
			owns_core_province = 896
			896 = {
				has_dock_building_trigger = yes
				has_shipyard_building_trigger = yes
			}
		}
		effect = {
			896 = {
				add_province_modifier = {
					name = "bur_shipyard_of_bruges_mission"
					duration = -1
				}
			}
		}
    }
	vn_bur_autonomous_cities = {
		icon = develop_the_south
		required_missions = { vn_bur_shipyard_of_bruges }
		trigger = {
			if = {
				limit = { has_estate = estate_burghers }
				num_of_estate_privileges = {
					estate = estate_burghers
					value = 3
				}
				estate_loyalty = {
					estate = estate_burghers
					loyalty = 60
				}
			}
			num_of_owned_provinces_with = {
				value = 5
				superregion = lowlands_superregion
				development = 15
			}
		}
		effect = {
			lowlands_superregion = {
				limit = { owned_by = ROOT }
				add_province_modifier = {
					name = "bur_autonomous_cities_mission"
					duration = 5475
				}
			}
		}
    }
	vn_bur_hook_and_cod_wars = {
		icon = mission_rb_cod_wars
		position = 11
		required_missions = { vn_bur_autonomous_cities }
		provinces_to_highlight = {
			OR = {
				area = holland_area
				area = utrecht_area
			}
			OR = {
				NOT = { owned_by = ROOT }
				NOT = { is_core = ROOT }
			}
			consolidated_region_trigger = no
		}
		trigger = {
			holland_area = {
				type = all
                owned_by = ROOT
                is_core = ROOT
				consolidated_region_trigger = yes
			}
			utrecht_area = {
				type = all
                owned_by = ROOT
                is_core = ROOT
				consolidated_region_trigger = yes
			}
		}
		effect = {
			holland_area = {
				limit = { owned_by = ROOT }
				add_province_modifier = {
					name = "bur_hook_and_cod_wars_mission"
					duration = 5475
				}
			}
			utrecht_area = {
				limit = { owned_by = ROOT }
				add_province_modifier = {
					name = "bur_hook_and_cod_wars_mission"
					duration = 5475
				}
			}
		}
	}
}


VN_bur_missions_slot_5_a = {
	slot = 5
	generic = no
	ai = yes
	potential = {
		tag = BUR
		NOT = { map_setup = map_setup_random }
	}
	has_country_shield = yes
    
	vn_bur_assert_independence = {
		icon = king_of_france
		required_missions = { }
		position = 1
		trigger = {
			if = {
				limit = { exists = FRA }
				num_of_infantry = FRA
				num_of_cavalry = FRA
			}
			total_development = 100
		}
		effect = {
			add_country_modifier = {
				name = "bur_assert_independence_mission"
				duration = 9125
			}
		}
    }
	vn_bur_expand_wine_trade = {
		icon = mission_wine_monopolies
		required_missions = { vn_bur_assert_independence }
		trigger = {
			wine = 5
			trade_income_percentage = 0.35
		}
		effect = {
			add_country_modifier = {
				name = "bur_expand_wine_trade_mission"
				duration = 9125
			}
		}
    }
	vn_bur_ducal_palace = {
		icon = mission_the_governing_senate
		required_missions = { vn_bur_expand_wine_trade }
		trigger = {
			capital_scope = {
				has_fort_building_trigger = yes
				development = 20
			}
		}
		effect = {
			custom_tooltip = add_5_crown_land_share
			hidden_effect = {
				change_estate_land_share = {
					estate = all
					share = -5
				}
			}
			capital_scope = {
				add_base_manpower = 2
				add_province_modifier = {
					name = "bur_ducal_palace_mission"
					duration = -1
				}
			}
		}
    }
	vn_bur_burgundian_renaissance = {
		icon = mission_english_renaissance
		required_missions = { vn_bur_ducal_palace }
		trigger = {
			has_institution = renaissance
			all_state_province = {
				renaissance = 100
			}
		}
		effect = {
			if = { 
				limit = { 
					has_dlc = "Rights of Man" 
					NOT = { num_of_ruler_traits = { amount = 3 } }
				}				
				add_ruler_personality = patron_of_arts_personality
			}
			else = { add_adm_power = 50 } 
			capital_scope = {
				add_or_upgrade_university_building = yes
				area = {
					limit = { owned_by = ROOT }
					add_province_modifier = {
						name = "bur_burgundian_renaissance_mission"
						duration = 9125
					}
				}
			}
		}
	}
}


VN_bur_missions_slot_5_b = {
	slot = 5
	generic = no
	ai = yes
	potential = {
		tag = BUR
		NOT = { map_setup = map_setup_random }
	}
	has_country_shield = yes
    
	vn_bur_occupy_paris = {
		icon = mission_big_city
		required_missions = { vn_bur_northward_expansion }
		position = 5
		provinces_to_highlight = {
			province_id = 548
			OR = {
				NOT = { owned_by = ROOT }
				NOT = { controlled_by = ROOT }
			}
		}
		trigger = {
			OR = {
				owns = 548
				controls = 548
			}
		}
		effect = {
			paris_area = {
				limit = {
					NOT = { is_core = ROOT }
					NOT = { is_permanent_claim = ROOT }
				}
				add_permanent_claim = ROOT
			}
			add_years_of_income = 0.5
			548 = {
				add_devastation = 50
			}
		}
    }
	vn_bur_defeat_france = {
		icon = king_of_the_franks
		required_missions = { vn_bur_occupy_paris }
		trigger = {
			if = {
				limit = { exists = FRA }
				has_won_war_against = {
					who = FRA
				}
			}
			else = {
				any_known_country = {
					culture_group = french
					total_development = 100
					war_with = ROOT
					ROOT = {
	                    war_score_against = {
	                        who = PREV
	                        value = 75
	                    }
	                }
				}
			}
		}
		effect = {
			add_prestige_or_monarch_power = { amount = 15 } 
			add_country_modifier = {
				name = "bur_defeat_france_mission"
				duration = 7300
			}
			caux_area = {
				limit = {
					NOT = { is_core = ROOT }
					NOT = { is_permanent_claim = ROOT }
				}
				add_permanent_claim = ROOT
			}
			normandy_area = {
				limit = {
					NOT = { is_core = ROOT }
					NOT = { is_permanent_claim = ROOT }
				}
				add_permanent_claim = ROOT
			}
			672 = { 
				if = {
					limit = {
						NOT = { is_core = ROOT }
						NOT = { is_permanent_claim = ROOT }
					}
					add_permanent_claim = ROOT
				}
			}
			2949 = { 
				if = {
					limit = {
						NOT = { is_core = ROOT }
						NOT = { is_permanent_claim = ROOT }
					}
					add_permanent_claim = ROOT
				}
			}
			2868 = { 
				if = {
					limit = {
						NOT = { is_core = ROOT }
						NOT = { is_permanent_claim = ROOT }
					}
					add_permanent_claim = ROOT
				}
			}
		}
    }
	vn_bur_conquer_normandy = {
		icon = mission_northumberland_coast
		required_missions = { vn_bur_defeat_france }
		provinces_to_highlight = {
			OR = {
				area = caux_area
				area = normandy_area
				province_id = 672
				province_id = 2949
				province_id = 2868
			}
			NOT = { country_or_non_sovereign_subject_holds = ROOT }
		}
		trigger = {
			caux_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
			normandy_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
			672 = { country_or_non_sovereign_subject_holds = ROOT }
			2949 = { country_or_non_sovereign_subject_holds = ROOT }
			2868 = { country_or_non_sovereign_subject_holds = ROOT }
		}
		effect = {
			add_accepted_culture_or_dip_power = { culture = normand dip_reward = yes }
			normandy_region = {
				limit = { country_or_non_sovereign_subject_holds = ROOT }
				add_province_modifier = {
					name = "bur_conquer_normandy_mission"
					duration = 9125
				}
			}
		}
	}
}

VN_bur_missions_slot_5_c = {
	slot = 5
	generic = no
	ai = yes
	potential = {
		tag = BUR
		NOT = { map_setup = map_setup_random }
	}
	has_country_shield = yes
    
	vn_bur_claims_in_picardie = {
		icon = mission_expand_into_the_forest
		position = 8
		required_missions = { vn_bur_inheritance_of_flanders }
		provinces_to_highlight = {
			OR = {
				area = artois_area
				province_id = 2886
				province_id = 4051
				province_id = 2927
				province_id = 1901
				province_id = 1256
				province_id = 2540
			}
			NOT = { country_or_non_sovereign_subject_holds = ROOT }
		}
		trigger = {
			artois_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
			2886 = { country_or_non_sovereign_subject_holds = ROOT }
			4051 = { country_or_non_sovereign_subject_holds = ROOT }
			2927 = { country_or_non_sovereign_subject_holds = ROOT }
			1901 = { country_or_non_sovereign_subject_holds = ROOT }
			1256 = { country_or_non_sovereign_subject_holds = ROOT }
			2540 = { country_or_non_sovereign_subject_holds = ROOT }
		}
		effect = {
			artois_area = {
				limit = { 
					country_or_non_sovereign_subject_holds = ROOT 
					has_port = yes
				}
				add_province_modifier = {
					name = "bur_claims_in_picardie_mission"
					duration = 9125
				}
			}
			1901 = {
				add_province_modifier = {
					name = "bur_claims_in_picardie_mission"
					duration = 9125
				}
			}
		}
	}
	vn_bur_burgundian_fleet = {
		icon = mission_establish_high_seas_navy
		required_missions = { vn_bur_claims_in_picardie }
		position = 10
		trigger = {
			naval_forcelimit = 50
			navy_size_percentage = 0.75
			num_of_heavy_ship = 10
			num_of_transport = 25
		}
		effect = {
			add_country_modifier = {
				name = "bur_burgundian_fleet_mission"
				duration = 9125
			}
			create_admiral = {
				tradition = 50
			}
		}
    }
	vn_bur_dominate_the_channel = {
		icon = mission_control_the_channel
		position = 11
		required_missions = { vn_bur_burgundian_fleet }
		trigger = {
			183 = {
				is_strongest_trade_power = ROOT
			}
			2729 = {
				is_strongest_trade_power = ROOT
			}
			2268 = {
				is_strongest_trade_power = ROOT
			}
			2173 = {
				is_strongest_trade_power = ROOT
			}	
		}
		effect = {
			add_mercantilism = 5
			add_country_modifier = {
				name = "bur_dominate_the_channel_mission"
				duration = 9125
			}
		}
	}
}