#Austrian missions
#by ShyGuy13

vn_hab_missions_slot_1 = {
    slot = 6
    generic = no
    ai = yes
    potential = {
        OR = {
            tag = HAB
            tag = EAH
        }
		NOT = { map_setup = map_setup_random }
	}
    has_country_shield = yes

    vn_hab_conquer_linz = {
        position = 2
		icon = mission_unite_home_region
        required_missions = { vn_hab_royal_alliances }
        provinces_to_highlight = {
            area = austriawest_area
            NOT = { country_or_non_sovereign_subject_holds = ROOT }
        }
		trigger = {
			austriawest_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
		}
		effect = {
            add_country_modifier = {
                name = hab_conquer_linz_mission
                duration = 9125
            }
		}
    }
    vn_hab_conquer_salzburg = {
		icon = mission_unite_home_region
        required_missions = { vn_hab_conquer_tirol }
        provinces_to_highlight = {
            area = salzburg_area
            NOT = { country_or_non_sovereign_subject_holds = ROOT }
        }
		trigger = {
            salzburg_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }			
		}
		effect = {
			add_country_modifier = {
                name = hab_conquer_salzburg_mission
                duration = 9125
            }
		}
    }
    vn_hab_expand_navy = {
		icon = mission_rb_grow_the_channel
        required_missions = { }
		trigger = {
            calc_true_if = {
                amount = 2
                num_of_light_ship = 10
                num_of_galley = 10
                num_of_transport = 10
            }
            num_of_heavy_ship = 3
		}
		effect = {
            add_mercantilism = 2
			add_country_modifier = {
                name = hab_expand_navy_mission
                duration = 9125
            }
		}
    }
    vn_hab_dominate_adriatic_trade = {
		icon = mission_rb_control_the_hansa
        required_missions = { vn_hab_expand_navy }
        provinces_to_highlight = {
            OR = {
                province_id = 112
                province_id = 137
            }
            NOT = {
                is_strongest_trade_power = ROOT
            }
        }
		trigger = {
            112 = {
                is_strongest_trade_power = ROOT
            }
			137 = {
                is_strongest_trade_power = ROOT
            }
		}
        effect = {
            add_country_modifier = {
                name = hab_dominate_adriatic_trade_mission
                duration = 9125
            }
        }
    }
    vn_hab_inheritage_of_burgundy = {
		icon = mission_monarch_in_throne_room
        required_missions = { }
		trigger = {
            #burgundy imperial incident
            always = no
		}
		effect = {
            add_prestige = 15
			if = {
                limit = {
                    exists = BUR
                    is_subject = no
                    government = monarchy
                    religion_group = christian
                    BUR = {
                        is_free_or_tributary_trigger = yes
                        government = monarchy
                    }
                }
                add_casus_belli = {
                    type = cb_fabricated_claims
                    months = 300
                    target = BUR
                }
            }
            else = {
                burgundy_region = {
                    limit = {
                        NOT = { is_core = ROOT }
                        NOT = { is_permanent_claim = ROOT }
                    }
                    add_permanent_claim = ROOT
                }
            }
		}
    }
    vn_hab_conquer_burgundy = {
		icon = mission_rb_repatriate_burgundy
        required_missions = { vn_hab_inheritage_of_burgundy }
        provinces_to_highlight = {
            region = burgundy_region
            NOT = { country_or_non_sovereign_subject_holds = ROOT }
        }
		trigger = {
            burgundy_region = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
		}
        effect = {
            wallonian_region = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            brabant_region = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            burgundy_region = {
                limit = { country_or_non_sovereign_subject_holds = ROOT }
                add_province_modifier = {
                    name = hab_conquer_burgundy_mission_mission
                    duration = 9125
                }
            }
        }
    }
    vn_hab_spanish_union = {
        position = 8
        icon = mission_intervene_in_castile
        required_missions = { vn_hab_conquer_burgundy }
        trigger = {
            custom_trigger_tooltip = {
                tooltip = vn_hab_spanish_union.tt
                OR = {
                    any_ally = {
                        capital_scope = {
                            superregion = iberia_superregion
                        }
                        total_development = 250
                    }
                    any_subject_country = {
                        capital_scope = {
                            superregion = iberia_superregion
                        }
                        total_development = 250
                    }
                }
            }
        }
        effect = {
            add_legitimacy = 20
            if = {
                limit = {
                    exists = NAP
                    is_subject = no
                    government = monarchy
                    religion_group = christian
                    NAP = {
                        is_free_or_tributary_trigger = yes
                        government = monarchy
                    }
                }
                add_casus_belli = {
                    type = cb_fabricated_claims
                    months = 300
                    target = NAP
                }
            }
            else = {
                naples_region = {
                    limit = {
                        NOT = { is_core = ROOT }
                        NOT = { is_permanent_claim = ROOT }
                    }
                    add_permanent_claim = ROOT
                }
                apulia_region = {
                    limit = {
                        NOT = { is_core = ROOT }
                        NOT = { is_permanent_claim = ROOT }
                    }
                    add_permanent_claim = ROOT
                }
                calabrian_region = {
                    limit = {
                        NOT = { is_core = ROOT }
                        NOT = { is_permanent_claim = ROOT }
                    }
                    add_permanent_claim = ROOT
                }
                sicilia_region = {
                    limit = {
                        NOT = { is_core = ROOT }
                        NOT = { is_permanent_claim = ROOT }
                    }
                    add_permanent_claim = ROOT
                }
            }
            add_country_modifier = {
                name = hab_spanish_union_mission
                duration = -1
            }
        }
    }
    vn_hab_challenge_france = {
        position = 9
		icon = mission_soldiers_in_line
        required_missions = { vn_hab_spanish_union }
		trigger = {
			calc_true_if = {
				OR = {
					french_superregion = {
                        type = all
                        controlled_by = ROOT
                    }
				}
				amount = 75
			}
		}
		effect = {
            create_general = {
                tradition = 75
            }
            add_country_modifier = {
                name = hab_challenge_france_mission
                duration = 9125
            }
		}
    }
    vn_hab_conquer_france = {
		icon = mission_the_french_menace
        required_missions = { vn_hab_challenge_france }
        provinces_to_highlight = {
            owner = {
				capital_scope = {
					superregion = french_superregion
				}
                is_free_or_tributary_trigger = yes
				num_of_cities = 25
                NOT = {
                    has_opinion = {
                        who = ROOT
                        value = 150
                    }
                }
			}
        }
		trigger = {
            custom_trigger_tooltip = {
                tooltip = vn_hab_conquer_france.ss
                NOT = {
                    any_country = {
                        capital_scope = {
                            superregion = french_superregion
                        }
                        is_free_or_tributary_trigger = yes
                        num_of_cities = 25
                        NOT = {
                            has_opinion = {
                                who = ROOT
                                value = 150
                            }
                        }
                    }
                }
            }
		}
		effect = {
			if = {
                limit = { is_emperor = yes }
                add_imperial_influence = 25
            }
            else = {
                add_prestige = 50
            }
            add_country_modifier = {
                name = hab_conquer_france_mission
                duration = 9125
            }
		}
    }
    vn_hab_conquer_naples = {
        icon = mission_kingdom
        required_missions = { }
        provinces_to_highlight = {
            OR = {
                region = naples_region
                region = apulia_region
                region = calabrian_region
                region = sicilia_region
            }
            NOT = { country_or_non_sovereign_subject_holds = ROOT }
        }
        trigger = {
            naples_region = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
            apulia_region = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
            calabrian_region = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
            sicilia_region = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
        }
        effect = {
            add_dip_power = 100
            add_prestige = 20
            add_country_modifier = {
                name = hab_conquer_naples_mission
                duration = 9125
            }
        }
    }
    vn_hab_militarakademie = {
        position = 17
		icon = mission_rb_college_of_justice
        required_missions = { }
		trigger = {
            has_mil_advisor_3 = yes
            num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
                value = 15
                OR = {
                    has_building = training_fields
                    has_building = conscription_center
                }
            }
		}
        effect = {
            add_yearly_manpower = 3
            add_country_modifier = {
                name = hab_militarakademie_mission
                duration = 7300
            }
        }
    }
    vn_hab_imperial_army = {
		icon = mission_assemble_an_army
        required_missions = { vn_hab_militarakademie }
		trigger = {
            if = {
                limit = { has_dlc = "Cradle of Civilization" }
                army_professionalism = 0.75
            }
            num_of_generals = 3
            army_size = 100
		}
        effect = {
            add_army_tradition = 25
            add_country_modifier = {
                name = hab_imperial_army_mission
                duration = 9125
            }
        }
    }
}

vn_hab_missions_slot_2 = {
    slot = 7
    generic = no
    ai = yes
    potential = {
        OR = {
            tag = HAB
            tag = EAH
        }
		NOT = { map_setup = map_setup_random }
	}
    has_country_shield = yes

    vn_hab_royal_alliances = {
        position = 1
		icon = mission_the_austrian_succession
		required_missions = { }
		trigger = {
			if = {
                limit = { government = monarchy }
                num_of_royal_marriages = 4
            }
            calc_true_if = {
                amount = 4
                all_ally = {
                    has_opinion = {
                        who = ROOT
                        value = 150
                    }
                }
            }
		}
		effect = {
			styriawest_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            add_country_modifier = {
                name = hab_royal_alliances_mission
                duration = 9125
            }
		}
    }
    vn_hab_conquer_styria = {
		icon = mission_unite_home_region
        required_missions = { vn_hab_royal_alliances }
        provinces_to_highlight = {
            area = styriawest_area
            NOT = { country_or_non_sovereign_subject_holds = ROOT }
        }
		trigger = {
			styriawest_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
		}
		effect = {
			carinthia_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            austriawest_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            styriaeast_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            add_country_modifier = {
                name = hab_conquer_styria_mission
                duration = 9125
            }
		}
    }
    vn_hab_conquer_carinthia = {
        position = 3
		icon = mission_unite_home_region
        required_missions = { vn_hab_conquer_styria }
        provinces_to_highlight = {
            area = carinthia_area
            NOT = { country_or_non_sovereign_subject_holds = ROOT }
        }
		trigger = {
			carinthia_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
		}
		effect = {
			tirol_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
		}
    }
    vn_hab_conquer_tirol = {
        position = 4
		icon = mission_unite_home_region
        required_missions = { vn_hab_conquer_carinthia }
        provinces_to_highlight = {
            OR = {
                area = tirol_area
                area = lienz_area
            }
            NOT = { country_or_non_sovereign_subject_holds = ROOT }
        }
		trigger = {
            tirol_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
            lienz_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
		}
		effect = {
            add_dip_power = 50
            add_prestige = 5
            salzburg_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
		}
    }
    vn_hab_survive_reformation = {
        position = 6
		icon = mission_hands_praying
        required_missions = { vn_hab_join_the_inquisition }
		trigger = {
            custom_trigger_tooltip = {
                tooltip = vn_hab_survive_reformation.tt
                OR = {
                    has_country_flag = had_religious_turmoil
                    current_age = age_of_absolutism
                    current_age = age_of_revolutions
                    current_age = age_of_ideology
                }
            }
			OR = {
                full_idea_group = humanist_ideas
                full_idea_group = religious_ideas
            }
		}
		effect = {
            country_event = { id = vn_missions.35 }
		}
    }
    vn_hab_conquer_belgium = {
        position = 8
		icon = mission_spanish_netherlands
        required_missions = { vn_hab_conquer_burgundy }
        provinces_to_highlight = {
            OR = {
                region = wallonian_region
                region = brabant_region
            }
            NOT = { country_or_non_sovereign_subject_holds = ROOT }
        }
		trigger = {
            wallonian_region = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
            brabant_region = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
		}
        effect = {
            flanders_region = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
        }
    }
    vn_hab_conquer_flanders = {
        position = 10
		icon = mission_unite_home_region
        required_missions = { vn_hab_conquer_belgium vn_hab_challenge_france }
        provinces_to_highlight = {
            region = flanders_region
            NOT = { country_or_non_sovereign_subject_holds = ROOT }
        }
		trigger = {
			flanders_region = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
		}
        effect = {
            if = {
                limit = { is_emperor = yes }
                add_imperial_influence = 10
            }
            else = {
                add_prestige = 20
            }
            add_country_modifier = {
                name = hab_conquer_flanders_mission
                duration = 9125
            }
        }
    }
    vn_hab_establish_reichstag = {
        position = 12
		icon = mission_unite_home_region
        required_missions = { vn_hab_imperial_ambition }
        trigger = {
            is_emperor = yes
			NOT = { num_of_foreign_hre_provinces = 1 }
		}
        effect = {
            add_country_modifier = {
                name = hab_establish_reichstag_mission
                duration = 9125
            }
        }
    }
    vn_hab_conquer_warsaw  = {
		icon = mission_partition_poland
        required_missions = { vn_hab_conquer_krakow }
        provinces_to_highlight = {
            OR = {
                area = halych_area
                area = peremyshl_area
                area = lviv_area
                area = sandomierz_area
                area = lublin_area
                area = warsaw_area
            }
            NOT = { country_or_non_sovereign_subject_holds = ROOT }
        }
		trigger = {
            sandomierz_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
            lublin_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
            warsaw_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
            halych_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
            peremyshl_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
            lviv_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
		}
        effect = {
            
        }
    }
    vn_hab_crush_the_revolution = {
        position = 18
		icon = mission_the_french_menace
        required_missions = { vn_hab_militarakademie }
		trigger = {
            is_in_war = {
                attacker_leader = ROOT
                casus_belli = cb_crush_the_revolution
                war_score = 75
            }
		}
        effect = {
            add_stability_or_adm_power = yes
            add_country_modifier = {
                name = hab_crush_the_revolution_mission
                duration = 9125
            }
        }
    }
}

vn_hab_missions_slot_3 = {
    slot = 8
    generic = no
    ai = yes
    potential = {
        OR = {
            tag = HAB
            tag = EAH
        }
		NOT = { map_setup = map_setup_random }
	}
    has_country_shield = yes

    vn_hab_conquer_carniola = {
        position = 3
		icon = mission_unite_home_region
        required_missions = { vn_hab_conquer_styria }
        provinces_to_highlight = {
            OR = {
                area = carniola_area

            }
            NOT = { country_or_non_sovereign_subject_holds = ROOT }
        }
		trigger = {
			carniola_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
		}
		effect = {
            add_dip_power = 50
            add_prestige = 5
            istria_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
		}
    }
    vn_hab_conquer_istria = {
        position = 4
		icon = mission_sea_battles
        required_missions = { vn_hab_conquer_carniola }
        provinces_to_highlight = {
            OR = {
                area = istria_area
                province_id = 954
                province_id = 129
            }
            NOT = { country_or_non_sovereign_subject_holds = ROOT }
        }
		trigger = {
			istria_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
            954 = { country_or_non_sovereign_subject_holds = ROOT }
            129 = { country_or_non_sovereign_subject_holds = ROOT }
		}
		effect = {
            add_navy_tradition = 10
            add_yearly_sailors = 5
			954 = {
                add_province_modifier = {
                    name = hab_conquer_istria_mission
                    duration = -1
                }
            }
		}
    }
    vn_hab_join_the_inquisition = {
        position = 5
		icon = mission_convert_provinces
        required_missions = { }
        provinces_to_highlight = {
            OR = {
                province_id = 2145  #Enns
                province_id = 2151  #Steyr
                province_id = 673   #St. Pölten
                province_id = 680   #Krems
                province_id = 1816  #Hartberg
            }
            OR = {
                NOT = { owned_by = ROOT }
                has_tax_building_trigger = no
            }
        }
		trigger = {
			2145 = {
                owned_by = ROOT
                has_tax_building_trigger = yes
            }
            2151 = {
                owned_by = ROOT
                has_tax_building_trigger = yes
            }
            673 = {
                owned_by = ROOT
                has_tax_building_trigger = yes
            }
            680 = {
                owned_by = ROOT
                has_tax_building_trigger = yes
            }
            1816 = {
                owned_by = ROOT
                has_tax_building_trigger = yes
            }
		}
		effect = {
            add_country_modifier = {
                name = hab_join_the_inquisition_mission
                duration = 9125
            }
		}
    }
    vn_hab_weather_religious_wars = {
        position = 7
		icon = mission_unite_home_region
        required_missions = { vn_hab_join_the_inquisition }
        trigger = {
            
		}
        effect = {
            
        }
    }
    vn_hab_imperial_ambition = {
		icon = mission_imperial_spain
        required_missions = { }
		trigger = {
            is_emperor = yes
            custom_trigger_tooltip = {
                tooltip = vn_hab_imperial_ambition.tt
                calc_true_if = {
                    amount = 3
                    all_elector = {
                        preferred_emperor = ROOT
                        has_opinion = {
                            who = ROOT
                            value = 150
                        }
                    }
                }
            }
		}
        effect = {
            add_country_modifier = {
                name = hab_imperial_ambition_mission
                duration = 9125
            }
        }
    }
    vn_hab_eternal_empire = {
        position = 13
		icon = mission_unite_home_region
        required_missions = { vn_hab_establish_reichstag vn_hab_weather_religious_wars }
        trigger = {
            is_emperor = yes
            hre_reform_level = 12
		}
        effect = {
            add_adm_power = 100
            add_dip_power = 100
            add_mil_power = 100
        }
    }
    vn_hab_hungarian_restriction = {
        position = 15
		icon = mission_unite_home_region
        required_missions = { vn_hab_conquer_transylvania }
        provinces_to_highlight = {
            superregion = carpathia_superregion
            OR = {
                NOT = { country_or_non_sovereign_subject_holds = ROOT }
                NOT = { development = 7 }
            }
        }
		trigger = {
            carpathia_superregion = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
                development = 7
            }
		}
		effect = {
			
		}
    }
    vn_hab_multi_ethnic_state = {
        position = 17
		icon = mission_establish_the_prikazy
        required_missions = { vn_hab_conquer_serbia vn_hab_conquer_warsaw }
		trigger = {
            num_accepted_cultures = 7
		}
        effect = {
            add_country_modifier = {
                name = hab_multi_ethnic_state_mission
                duration = 9125
            }
        }
    }
    vn_hab_aeiou = {
		icon = mission_monarch_in_throne_room
        required_missions = { vn_hab_multi_ethnic_state }
		trigger = {
            tag = EAH
            total_own_and_non_tributary_subject_development = 2500
		}
        effect = {
            add_adm_power = 100
            add_dip_power = 100
            add_mil_power = 100
            add_country_modifier = {
                name = hab_aeiou_mission
                duration = -1
            }
        }
    }
}

vn_hab_missions_slot_4 = {
    slot = 9
    generic = no
    ai = yes
    potential = {
        OR = {
            tag = HAB
            tag = EAH
        }
		NOT = { map_setup = map_setup_random }
	}
    has_country_shield = yes

    vn_hab_claim_to_rule = {
        position = 1
		icon = mission_coronation
        required_missions = { }
		trigger = {
            legitimacy_equivalent = 100
            total_development = 200
            calc_true_if = {
                amount = 2
                adm = 4
                dip = 4
                mil = 4
            }
		}
		effect = {
			country_event = { id = vn_missions.4 }
		}
    }
    vn_hab_conquer_breisgau = {
        position = 3
		icon = mission_unite_home_region
        required_missions = { vn_hab_claim_to_rule }
        provinces_to_highlight = {
            OR = {
                area = breisgau_area
                area = sundgau_area
            }
            NOT = { country_or_non_sovereign_subject_holds = ROOT }
        }
		trigger = {
            breisgau_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
            sundgau_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
		}
        effect = {
            hagenau_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            nordgau_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            strassburg_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            thurgau_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            2245 = { 
				if = {
					limit = {
						NOT = { is_core = ROOT }
						NOT = { is_permanent_claim = ROOT }
					}
					add_permanent_claim = ROOT	
				}		
            }
            2276 = { 
				if = {
					limit = {
						NOT = { is_core = ROOT }
						NOT = { is_permanent_claim = ROOT }
					}
					add_permanent_claim = ROOT	
				}		
            }
            1117 = { 
				if = {
					limit = {
						NOT = { is_core = ROOT }
						NOT = { is_permanent_claim = ROOT }
					}
					add_permanent_claim = ROOT	
				}		
            }
            2275 = { 
				if = {
					limit = {
						NOT = { is_core = ROOT }
						NOT = { is_permanent_claim = ROOT }
					}
					add_permanent_claim = ROOT	
				}		
			}
        }
    }
    vn_hab_conquer_alsace = {
		icon = mission_unite_home_region
        required_missions = { vn_hab_conquer_breisgau }
        provinces_to_highlight = {
            OR = {
                area = hagenau_area
                area = nordgau_area
                area = strassburg_area
            }
            NOT = { country_or_non_sovereign_subject_holds = ROOT }
        }
		trigger = {
            hagenau_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            nordgau_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            strassburg_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
		}
        effect = {
            
        }
    }
    vn_hab_conquer_bern = {
		icon = mission_unite_home_region
        required_missions = { vn_hab_conquer_aargau }
        provinces_to_highlight = {
            superregion = switzerland_superregion
            OR = {
                is_part_of_hre = no
                owner = {
                    capital_scope = {
                        superregion = switzerland_superregion
                    }
                    is_free_or_tributary_trigger = yes
                    num_of_cities = 10
                    NOT = {
                        alliance_with = ROOT
                    }
                }
            }
        }
		trigger = {
            #switzerland imperial incident?
            custom_trigger_tooltip = {
                tooltip = vn_hab_conquer_bern.tt
                switzerland_superregion = {
                    type = all
                    is_part_of_hre = yes
                    owner = {
                        is_part_of_hre = yes
                    }
                }
            }
            custom_trigger_tooltip = {
                tooltip = vn_hab_conquer_bern.ss
                NOT = {
                    any_country = {
                        capital_scope = {
                            superregion = switzerland_superregion
                        }
                        is_free_or_tributary_trigger = yes
                        num_of_cities = 10
                        NOT = {
                            alliance_with = ROOT
                        }
                    }
                }
            }
		}
        effect = {
            add_country_modifier = {
                name = hab_conquer_bern_mission
                duration = 9125
            }
        }
    }
    vn_hab_reorganize_alliances = {
        icon = mission_alliances
        required_missions = { }
        trigger = {
            if = {
                limit = { has_dlc = "Rights of Man" }
                is_great_power = yes
                any_ally = {
                    is_great_power = yes
                }
                any_rival_country = {
                    is_great_power = yes
                }
            }
            else = {
                total_development = 300
                any_ally = {
                    total_development = 300
                }
                any_rival_country = {
                    total_development = 300
                }
            }
        }
        effect = {

        }
    }
    vn_hab_conquer_transylvania = {
        position = 14
		icon = mission_unite_home_region
        required_missions = { vn_hab_conquer_hungary }
        provinces_to_highlight = {
            region = northtransylvania_region
            NOT = { country_or_non_sovereign_subject_holds = ROOT }
        }
		trigger = {
            northtransylvania_region = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
		}
        effect = {
            wallachia_region = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
        }
    }
    vn_hab_conquer_wallachia = {
		icon = mission_unite_home_region
        required_missions = { vn_hab_conquer_transylvania }
        provinces_to_highlight = {
            region = wallachia_region
            NOT = { country_or_non_sovereign_subject_holds = ROOT }
        }
		trigger = {
            wallachia_region = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
		}
        effect = {
            
        }
    }
    vn_hab_conquer_serbia = {
		icon = mission_unite_home_region
        required_missions = { vn_hab_conquer_bosnia }
        provinces_to_highlight = {
            OR = {
                region = serbia_region
                region = rashkan_region
            }
            NOT = { country_or_non_sovereign_subject_holds = ROOT }
        }
		trigger = {
            serbia_region = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
            rashkan_region = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
		}
        effect = {
            
        }
    }
    vn_hab_josephinism = {
        position = 18
		icon = mission_autocratic_rule
        required_missions = { vn_hab_university_of_wien }
		trigger = {
            absolutism = 50
            has_institution = enlightenment
            all_state_province = {
                enlightenment = 100
            }
            NOT = { average_unrest = 2 }
		}
        effect = {
            add_absolutism = 10
            add_country_modifier = {
                name = hab_josephinism_mission
                duration = -1
            }
        }
    }
}

vn_hab_missions_slot_5 = {
    slot = 10
    generic = no
    ai = yes
    potential = {
        OR = {
            tag = HAB
            tag = EAH
        }
		NOT = { map_setup = map_setup_random }
	}
    has_country_shield = yes

    vn_hab_foothold_in_bavaria = {
        position = 2
		icon = mission_landsknecht_soldier
        required_missions = {  }
        provinces_to_highlight = {
            region = bavaria_region
            NOT = { country_or_non_sovereign_subject_holds = ROOT }
        }
		trigger = {
            bavaria_region = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
		}
		effect = {
            if = {
                limit = {
                    exists = BAV
                    is_subject = no
                    government = monarchy
                    religion_group = christian
                    BAV = {
                        is_free_or_tributary_trigger = yes
                        government = monarchy
                    }
                }
                add_casus_belli = {
                    type = cb_fabricated_claims
                    months = 300
                    target = BAV
                }
            }
            else = {
                bavaria_region = {
                    limit = {
                        NOT = { is_core = ROOT }
                        NOT = { is_permanent_claim = ROOT }
                    }
                    add_permanent_claim = ROOT
                }
            }
		}
    }
    vn_hab_conquer_bavaria = {
        position = 3
		icon = mission_landsknecht_soldier
        required_missions = { vn_hab_foothold_in_bavaria }
        provinces_to_highlight = {
            region = bavaria_region
            NOT = { country_or_non_sovereign_subject_holds = ROOT }
        }
		trigger = {
            bavaria_region = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
		}
		effect = {
            
		}
    }
    vn_hab_conquer_aargau = {
		icon = mission_unite_home_region
        required_missions = { vn_hab_conquer_breisgau }
        provinces_to_highlight = {
            OR = {
                area = thurgau_area
                province_id = 2245
                province_id = 2276
                province_id = 1117
                province_id = 2275
            }
            NOT = { country_or_non_sovereign_subject_holds = ROOT }
        }
		trigger = {
            thurgau_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
            2245 = { country_or_non_sovereign_subject_holds = ROOT }
            2276 = { country_or_non_sovereign_subject_holds = ROOT }
            1117 = { country_or_non_sovereign_subject_holds = ROOT }
            2275 = { country_or_non_sovereign_subject_holds = ROOT }
		}
        effect = {
            
            thurgau_area = {
                add_province_modifier = {
                    name = hab_conquer_aargau_mission
                    duration = 9125
                }
            }

        }
    }
    vn_hab_conquer_bohemia = {
		icon = mission_unite_home_region
        required_missions = { }
        provinces_to_highlight = {
            OR = {
                region = bohemia_region
                region = moravia_region
            }
            NOT = { country_or_non_sovereign_subject_holds = ROOT }
        }
		trigger = {
            bohemia_region = {
                type = all
                country_or_non_sovereign_subject_holds = ROOt
            }
            moravia_region = {
                type = all
                country_or_non_sovereign_subject_holds = ROOt
            }
		}
        effect = {
            silesia_region = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
        }
    }
    vn_hab_conquer_silesia = {
		icon = mission_unite_home_region
        required_missions = { vn_hab_conquer_moravia }
        provinces_to_highlight = {
            region = silesia_region
            NOT = { country_or_non_sovereign_subject_holds = ROOT }
        }
        trigger = {
            silesia_region = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
		}
        effect = {
            halicia_region = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            krakow_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            sacz_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            sandomierz_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
        }
    }
    vn_hab_conquer_krakow = {
		icon = mission_unite_home_region
        required_missions = { vn_hab_conquer_silesia }
        provinces_to_highlight = {
            OR = {
                region = halicia_region
                area = krakow_area
                area = sacz_area
                area = sandomierz_area
            }
            NOT = { country_or_non_sovereign_subject_holds = ROOT }
        }
		trigger = {
            halicia_region = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
            krakow_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
            sacz_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
            sandomierz_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
		}
        effect = {
           
        }
    }
    vn_hab_rivalry_with_venice = {
        position = 6
		icon = mission_control_venice
        required_missions = { vn_hab_conquer_istria }
		trigger = {
            any_rival_country = {
                capital_scope = {
                    region = treviso_region
                }
            }
		}
        effect = {
            add_mil_power = 100
            treviso_region = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            trent_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            mantua_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
        }
    }
    vn_hab_conquer_venetia = {
		icon = mission_raid_on_venice
        required_missions = { vn_hab_rivalry_with_venice }
        provinces_to_highlight = {
            OR = {
                region = treviso_region
                area = trent_area
                area = mantua_area
            }
            NOT = { country_or_non_sovereign_subject_holds = ROOT }
        }
		trigger = {
            treviso_region = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
            trent_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
            mantua_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
		}
        effect = {
            lombardy_region = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            parma_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            add_country_modifier = {
                name = hab_conquer_venetia_mission
                duration = 7300
            }
        }
    }
    vn_hab_conquer_milan = {
		icon = mission_italian_conquest
        required_missions = { vn_hab_conquer_venetia }
        provinces_to_highlight = {
            OR = {
                region = lombardy_region
                area = parma_area
            }
            NOT = { country_or_non_sovereign_subject_holds = ROOT }
        }
		trigger = {
            lombardy_region = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
            parma_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
		}
        effect = {
            country_event = { id = vn_missions.7 }
        }
    }
    vn_hab_decline_of_hungary = {
		icon = mission_eastern_european_city
        required_missions = { }
		trigger = {
            government_rank = 4
            OR = {
                total_development = HUN
                AND = {
                    NOT = { exists = HUN }
                    total_development = 250
                }
            }
		}
        effect = {
            if = {
                limit = {
                    exists = HUN
                    is_subject = no
                    government = monarchy
                    religion_group = christian
                    HUN = {
                        is_free_or_tributary_trigger = yes
                        government = monarchy
                    }
                }
                add_casus_belli = {
                    type = cb_fabricated_claims
                    months = 300
                    target = HUN
                }
            }
            else = {
                easthungary_region = {
                    limit = {
                        NOT = { is_core = ROOT }
                        NOT = { is_permanent_claim = ROOT }
                    }
                    add_permanent_claim = ROOT
                }
                westhungary_region = {
                    limit = {
                        NOT = { is_core = ROOT }
                        NOT = { is_permanent_claim = ROOT }
                    }
                    add_permanent_claim = ROOT
                }
                slovakia_region = {
                    limit = {
                        NOT = { is_core = ROOT }
                        NOT = { is_permanent_claim = ROOT }
                    }
                    add_permanent_claim = ROOT
                }
            }
        }
    }
    vn_hab_conquer_hungary = {
        position = 13
		icon = mission_kingdom
        required_missions = { vn_hab_decline_of_hungary }
        provinces_to_highlight = {
            OR = {
                region = easthungary_region
                region = westhungary_region
                region = slovakia_region
            }
            NOT = { country_or_non_sovereign_subject_holds = ROOT }
        }
		trigger = {
            easthungary_region = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
            westhungary_region = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
            slovakia_region = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
		}
        effect = {
            country_event = { id = vn_missions.5 }
        }
    }
    vn_hab_conquer_croatia = {
		icon = mission_unite_home_region
        required_missions = { vn_hab_conquer_hungary }
        provinces_to_highlight = {
            OR = {
                region = croatia_region
                area = senj_area
                area = dalmatia_area
            }
            NOT = { country_or_non_sovereign_subject_holds = ROOT }
        }
		trigger = {
            croatia_region = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
            senj_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
            dalmatia_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
		}
        effect = {
            bosnia_region = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            ragusa_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
        }
    }
    vn_hab_conquer_bosnia = {
		icon = mission_unite_home_region
        required_missions = { vn_hab_conquer_croatia }
        provinces_to_highlight = {
            OR = {
                region = bosnia_region
                area = ragusa_area
            }
            NOT = { country_or_non_sovereign_subject_holds = ROOT }
        }
		trigger = {
            bosnia_region = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
            ragusa_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
		}
        effect = {
            serbia_region = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            rashkan_region = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
        }
    }
    vn_hab_humiliate_the_turks = {
		icon = mission_impaled_soldies
        required_missions = { vn_hab_conquer_bosnia }
		trigger = {
            if = {
                limit = { exists = TUR }
                is_in_war = {
                    attacker_leader = ROOT
                    defender_leader = TUR
                    war_score = 75
                }
            }
            else_if = {
                if = {
                    limit = { exists = RUM }
                    is_in_war = {
                        attacker_leader = ROOT
                        defender_leader = RUM
                        war_score = 75
                    }
                }
            }
            else = {
                custom_trigger_tooltip = {
                    tooltip = vn_hab_humiliate_the_turks.tt
                    any_country = {
                        primary_culture = turkish
                        war_with = ROOT
                        NOT = {
                            war_score_against = {
                                who = ROOT
                                value = -75
                            }
                        }
                    }
                }
            }
		}
        effect = {
            add_war_exhaustion = -2
            add_country_modifier = {
                name = hab_humiliate_the_turks_mission
                duration = 9125
            }
        }
    }
    vn_hab_university_of_wien = {
		icon = mission_rb_the_education_acts
        required_missions = { }
		provinces_to_highlight = {
            province_id = 2172
            OR = {
                NOT = { owned_by = ROOT }
                NOT = { has_building = university }
            }
        }
		trigger = {
            university = 5
            2172 = {
                owned_by = ROOT
                has_building = university
            }
		}
        effect = {
            add_innovativeness_big_effect = yes
            2172 = {
                add_province_modifier = {
                    name = hab_university_of_wien_mission
                    duration = -1
                }
            }
        }
    }
    vn_hab_castle_of_wien = {
		icon = mission_european_castle
        required_missions = { vn_hab_university_of_wien }
        provinces_to_highlight = {
            province_id = 2172
        }
		trigger = {
            2172 = {
                owned_by = ROOT
                is_capital_of = ROOT
                development = 50
                NOT = { unrest = 1 }
                NOT = { devastation = 1 }
            }
		}
        effect = {
            add_prestige = 25
            2172 = {
                add_province_modifier = {
                    name = hab_castle_of_wien_mission
                    duration = -1
                }
            }
        }
    }
}